transmute(diff_means=as.numeric(estimate), stderr=as.numeric(stderr)) %>%
bind_cols(c(1,2,3,4,5,6,7))
estimators <- tbl_df(t(sapply(tests, c))) %>% # https://stackoverflow.com/questions/4227223/convert-a-list-to-a-data-frame
select(c('stderr', 'estimate')) %>%
transmute(diff_means=as.numeric(estimate), stderr=as.numeric(stderr)) %>%
bind_cols(list(1,2,3,4,5,6,7))
estimators <- tbl_df(t(sapply(tests, c))) %>% # https://stackoverflow.com/questions/4227223/convert-a-list-to-a-data-frame
select(c('stderr', 'estimate')) %>%
transmute(diff_means=as.numeric(estimate), stderr=as.numeric(stderr)) %>%
mutate(Experiment=list(1,2,3,4,5,6,7))
estimator
estimators
estimators <- tbl_df(t(sapply(tests, c))) %>% # https://stackoverflow.com/questions/4227223/convert-a-list-to-a-data-frame
select(c('stderr', 'estimate')) %>%
transmute(diff_means=as.numeric(estimate), stderr=as.numeric(stderr)) %>%
mutate(Experiment=c(1,2,3,4,5,6,7))
estimtaors
estimators
c("Hello", "there!")
estimators <- tbl_df(t(sapply(tests, c))) %>% # https://stackoverflow.com/questions/4227223/convert-a-list-to-a-data-frame
select(c('stderr', 'estimate')) %>%
transmute(diff_means=as.numeric(estimate), stderr=as.numeric(stderr)) %>%
mutate(Experiment=1:n_forms)
estimators
ggplot(tbl, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_mean - 1.96 * se), ymax=(diff_mean + 1.96 * se)), color='black', width=.3)
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * se), ymax=(diff_means + 1.96 * se)), color='black', width=.3)
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3)
ggplot(estimators, aes(x=Experiment, y=diff_means)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3)
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3)
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
guides(fill=FALSE) +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3)
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_discrete() +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_discrete(breaks=ii) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
?scale_x_discrete
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_discrete(breaks=waiver()) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_discrete(breaks=1:7) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
str(1:7)
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_discrete(breaks=str(1:7)) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_continuous(breaks=str(1:7)) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
# theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_continuous(breaks=str(1:7)) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_continuous(breaks=1:7) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_discrete(breaks=1:n_forms) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
continuous
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_continuous(breaks=1:n_forms) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_continuous(breaks=1:n_forms) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment") +
ggsave("diff_means_barplot_errors.pdf")
?ggsave
estimators <- tbl_df(t(sapply(tests, c))) %>% # https://stackoverflow.com/questions/4227223/convert-a-list-to-a-data-frame
select(c('stderr', 'estimate')) %>%
transmute(diff_means=as.numeric(estimate), stderr=as.numeric(stderr)) %>%
mutate(Experiment=1:n_forms)
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_continuous(breaks=1:n_forms) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment") +
ggsave("diff_means_barplot_errors.pdf", width="7in")
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_continuous(breaks=1:n_forms) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
# Our big ole question: Is there interaction with Entailment?
ggplot(tbl, aes(x=Entailment, y=Surprisal, color=interaction(Entailment, Experiment))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Entailment, Contradiction in all Experiments")
ggsave("entailment_all_boxplot_scatter.pdf", width="7in", dpi="retina")
ggsave("entailment_all_boxplot_scatter.pdf", width="7 in", dpi="retina")
ggsave("entailment_all_boxplot_scatter.pdf", width=7, dpi="retina")
# Compare Experiment 2, 3, 6.
tbl %>% subset(Experiment %in% c(2, 3, 6)) %>%
ggplot(aes(x=Entailment, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Entailment, Contradiction in Experiments 2, 3, 6")
head(tbl)
# Overall?
ggplot(tbl, aes(x=Crossing, y=Surprisal, fill=Crossing)) +
#geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(notch=T) +
xlab("Crossing, Not Crossing in all Experiments")
# Compare Experiment 2, 3, 6.
tbl %>% subset(Experiment %in% c(2, 3, 6)) %>%
ggplot(aes(x=Entailment, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Entailment, Contradiction in Experiments 2, 3, 6")
for (i in 1:n_forms) {
input <- read.csv(paste(prefix, i, '.tsv', sep=''), sep='\t') %>%
mutate(Experiment=i) %>%
mutate(Entailment=ifelse(Crossing == 'E_nX' | Crossing == 'E_X', "Entailment", "Not Entailment")) %>%
mutate(Crossing=ifelse(Experiment != 3 & (Crossing == 'E_X' | Crossing == 'C_X'), 'Crossing Dependency', 'Not Crossing'))
# Note! Experiment 3 was mistemplated, and in fact is not crossing at all.
if (i == 1) tbl <- tbl_df(input)
else tbl <- bind_rows(tbl, input)
}
# Just a taste...
sample_n(tbl, 10)
seed()
set.seed
ggplot(tbl, aes(x=Entailment, y=Surprisal, color=interaction(Entailment, Experiment))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Entailment, Contradiction in all Experiments")
# Compare Experiment 2, 6.
tbl %>% subset(Experiment %in% c(2, 6)) %>%
ggplot(aes(x=Entailment, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Entailment, Contradiction in Experiments 2, 3, 6")
ggplot(tbl, aes(x=Crossing, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T)
ggplot(tbl, aes(x=Entailment, y=Surprisal, color=interaction(Entailment, Experiment))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Entailment, Contradiction in all Experiments")
ggplot(tbl, aes(x=Crossing, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Crossing, Not Crossing Implications in all Experiments")
ggsave("crossing_236_boxplot_scatter.pdf", width=8, height=2, dpi="retina")
urprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Crossing, Not Crossing Implications in all Experiments")
ggsave("crossing_all_boxplot_scatter.pdf", width=8, height=2, dpi="retina")
# Compare Experiment 2, 6.
tbl %>% subset(Experiment %in% c(2, 6)) %>%
ggplot(aes(x=Entailment, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Entailment, Contradiction in Experiments 2, 6")
ggsave("crossing_on_entailment_236_boxplot_scatter.pdf", dpi="retina")
ggplot(tbl, aes(x=Crossing, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Crossing, Not Crossing Implications in all Experiments")
ggsave("crossing_all_boxplot_scatter.pdf", width=8, height=2, dpi="retina")
ggplot(tbl, aes(x=Crossing, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Crossing, Not Crossing Implications in all Experiments")
ggsave("crossing_all_boxplot_scatter.pdf", width=8, height=3.5, dpi="retina")
# Compare Experiment 4, 5.
tbl %>% subset(Experiment %in% c(4, 5)) %>%
ggplot(aes(x=Entailment, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Entailment, Contradiction in Experiments 4, 5")
# Overall?
ggplot(tbl, aes(x=Crossing, y=Surprisal, fill=Crossing)) +
#geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(notch=T) +
theme(legend.position="none") +
xlab("Crossing, Not Crossing in all Experiments")
ggplot(tbl, aes(x=Crossing, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Crossing, Not Crossing Implications in all Experiments")
ggsave("crossing_all_boxplot_scatter.pdf", width=8, height=3.5, dpi="retina")
# Compare Experiment 2, 6.
tbl %>% subset(Experiment %in% c(2, 6)) %>%
ggplot(aes(x=Entailment, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Entailment, Contradiction in Experiments 2, 6")
ggsave("crossing_on_entailment_26_boxplot_scatter.pdf", dpi="retina")
# Compare Experiment 4, 5.
tbl %>% subset(Experiment %in% c(4, 5)) %>%
ggplot(aes(x=Entailment, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Entailment, Contradiction in Experiments 4, 5")
ggsave("crossing_on_entailment_45_boxplot_scatter.pdf", dpi="retina")
# Overall?
tbl %>% subset(Experiment %in% c(2, 3,4,5,6,7)) %>%
ggplot(aes(x=Crossing, y=Surprisal, fill=Crossing)) +
#geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(notch=T) +
theme(legend.position="none") +
xlab("Crossing, Not Crossing in all Experiments")
# Overall?
tbl %>% subset(Experiment %in% c(2, 4,5,6,7)) %>%
ggplot(aes(x=Crossing, y=Surprisal, fill=Crossing)) +
#geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(notch=T) +
theme(legend.position="none") +
xlab("Crossing, Not Crossing in all Experiments")
# Overall?
tbl %>% subset(Experiment %in% c(2, 1,2,4,5,6,7)) %>%
ggplot(aes(x=Crossing, y=Surprisal, fill=Crossing)) +
#geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(notch=T) +
theme(legend.position="none") +
xlab("Crossing, Not Crossing in all Experiments")
tbl %>% subset(Experiment %in% c(3)) %>%
ggplot(aes(x=Entailment, y=Surprisal, color=interaction(Preposition))) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Prepositions in Experiment 3")
tbl %>% subset(Experiment %in% c(4, 5)) %>%
ggplot(aes(x=Entailment, y=Surprisal, color=interaction(E.D))) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Expletive/Demonstratives in Experiments 4, 6")
ggplot(tbl, aes(x=Entailment, y=Surprisal, color=interaction(Connective))) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Connectives in all Experiments")
ggplot(tbl, aes(x=Entailment, y=Surprisal, fill=Entailment)) +
facet_wrap(~ Connective) +
theme(legend.position="none") +
geom_boxplot(notch=T) +
xlab("Entailment, not Entailment for each Connective")
# Each experiment has a tsv output; bind them together into one table
prefix <- 'results_GPT2-'
n_forms <- 7
n_tuples <- 25
for (i in 1:n_forms) {
input <- read.csv(paste(prefix, i, '.tsv', sep=''), sep='\t') %>%
mutate(Experiment=i) %>%
mutate(Entailment=ifelse(Crossing == 'E_nX' | Crossing == 'E_X', "Entailment", "Not Entailment")) %>%
mutate(Crossing=ifelse(Experiment != 3 & (Crossing == 'E_X' | Crossing == 'C_X'), 'Crossing Dependency', 'Not Crossing'))
# Note! Experiment 3 was mistemplated, and in fact is not crossing at all.
if (i == 1) tbl <- tbl_df(input)
else tbl <- bind_rows(tbl, input)
}
# Just a taste...
sample_n(tbl, 10)
tests <- vector('list', n_forms)
for (i in 1:n_forms) {
S_not <- filter(tbl, (Experiment==i & Entailment=="Not Entailment"))$Surprisal
S_ent <- filter(tbl, (Experiment==i & Entailment=="Entailment"))$Surprisal
test <- t.test(S_not, S_ent, paired=T, alternative="greater")
tests[[i]] <- test
}
tests
* Exp1: Nope
estimators <- tbl_df(t(sapply(tests, c))) %>% # https://stackoverflow.com/questions/4227223/convert-a-list-to-a-data-frame
select(c('stderr', 'estimate')) %>%
transmute(diff_means=as.numeric(estimate), stderr=as.numeric(stderr)) %>%
mutate(Experiment=1:n_forms)
ggplot(estimators, aes(x=Experiment, y=diff_means, fill=Experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_continuous(breaks=1:n_forms) +
xlab("Difference in Means, Contradiction-Entailment, per-Experiment")
library(tidyverse)
# Each experiment has a tsv output; bind them together into one table
prefix <- 'lm1b_'
n_forms <- 1
n_tuples <- 25
for (i in 1:n_forms) {
input <- read.csv(paste(prefix, i, '.tsv', sep=''), sep='\t')
# input <- read.csv(paste(prefix, i, '.tsv', sep=''), sep='\t') %>%
#   mutate(Experiment=i) %>%
#   mutate(Entailment=ifelse(Crossing == 'E_nX' | Crossing == 'E_X', "Entailment", "Not Entailment")) %>%
#   mutate(Crossing=ifelse(Experiment != 3 & (Crossing == 'E_X' | Crossing == 'C_X'), 'Crossing Dependency', 'Not Crossing'))
# # Note! Experiment 3 was mistemplated, and in fact is not crossing at all.
# if (i == 1) tbl <- tbl_df(input)
# else tbl <- bind_rows(tbl, input)
}
View(input)
summary(input$inference)
sd(input$inference)
View(input)
for (i in 1:n_forms) {
input <- read.csv(paste(prefix, i, '.tsv', sep=''), sep='\t') %>%
mutate(Experiment=i)
if (i == 1) tbl <- tbl_df(input)
else tbl <- bind_rows(tbl, input)
}
# Just a taste...
sample_n(tbl, 10)
for (i in 1:n_forms) {
input <- read.csv(paste(prefix, i, '.tsv', sep=''), sep='\t') %>%
mutate(experiment=i)
if (i == 1) tbl <- tbl_df(input)
else tbl <- bind_rows(tbl, input)
}
ggplot(tbl, aes(x=correct, y=inference, color=interaction(correct, experiment))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Entailment, Contradiction in all Experiments")
ggplot(tbl, aes(x=correct, y=inference, color=interaction(correct, experiment))) +
facet_wrap(~ experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Entailment, Contradiction in all Experiments")
ggplot(tbl, aes(x=correct, y=inference, color=interaction(correct, experiment))) +
facet_wrap(~ experiment) +
# geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Entailment, Contradiction in all Experiments")
ggplot(tbl, aes(x=correct, y=inference, color=interaction(correct, experiment))) +
facet_wrap(~ experiment) +
# geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
scale_y_continuous(limits=c(67.9, 68))
View(input)
tests <- vector('list', n_forms)
for (i in 1:n_forms) {
S_not <- filter(tbl, (experiment==i & correct==F))$inference
S_ent <- filter(tbl, (experiment==i & correct==T))$inference
test <- t.test(S_not, S_ent, paired=T, alternative="greater")
tests[[i]] <- test
}
filter(tbl, (experiment==i & correct==F))$inference
filter(tbl, (experiment==i & correct==F))
filter(tbl, (experiment==i & correct=='False'))
tests <- vector('list', n_forms)
for (i in 1:n_forms) {
S_not <- filter(tbl, (experiment==i & correct=='False'))$inference
S_ent <- filter(tbl, (experiment==i & correct=='True'))$inference
test <- t.test(S_not, S_ent, paired=T, alternative="greater")
tests[[i]] <- test
}
tests
test <- t.test(S_not, S_ent, paired=T)
for (i in 1:n_forms) {
S_not <- filter(tbl, (experiment==i & correct=='False'))$inference
S_ent <- filter(tbl, (experiment==i & correct=='True'))$inference
test <- t.test(S_not, S_ent, paired=T)
tests[[i]] <- test
}
tests
estimators <- tbl_df(t(sapply(tests, c))) %>% # https://stackoverflow.com/questions/4227223/convert-a-list-to-a-data-frame
select(c('stderr', 'estimate')) %>%
transmute(diff_means=as.numeric(estimate), stderr=as.numeric(stderr)) %>%
mutate(experiment=1:n_forms)
View(estimators)
ggplot(estimators, aes(x=experiment, y=diff_means, fill=experiment)) +
geom_bar(stat="identity", position="dodge") +
theme(legend.position="none") +
geom_errorbar(aes(ymin=(diff_means - 1.96 * stderr), ymax=(diff_means + 1.96 * stderr)), color='black', width=.3) +
scale_x_continuous(breaks=1:n_forms) +
xlab("Mean S(Contradiction)-S(Entailment), per-Experiment")
ggplot(tbl, aes(x=correct, y=inference, color=interaction('{Conn}'))) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Connectives in all Experiments")
library(tidyverse)
# Each experiment has a tsv output; bind them together into one table
prefix <- 'lm1b_'
n_forms <- 1
n_tuples <- 25
for (i in 1:n_forms) {
input <- read.csv(paste(prefix, i, '.tsv', sep=''), sep='\t') %>%
mutate(experiment=i)
# TODO switch T/F strings to booleans
if (i == 1) tbl <- tbl_df(input)
else tbl <- bind_rows(tbl, input)
}
# Just a taste...
sample_n(tbl, 10)
for (i in 1:n_forms) {
input <- read.csv(paste(prefix, i, '.tsv', sep=''), sep='\t') %>%
mutate(experiment=i)
# TODO switch T/F strings to booleans
if (i == 1) tbl <- tbl_df(input)
else tbl <- bind_rows(tbl, input)
}
# Just a taste...
sample_n(tbl, 10)
ggplot(tbl, aes(x=Crossing, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ Experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Crossing, Not Crossing Implications in all Experiments")
ggplot(tbl, aes(x=Crossing, y=Surprisal, color=interaction(Crossing))) +
facet_wrap(~ experiment) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
theme(legend.position="none") +
xlab("Crossing, Not Crossing Implications in all Experiments")
ggplot(tbl, aes(x=correct, y=inference, color=interaction('{Conn}'))) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Connectives in all Experiments")
View(input)
ggplot(tbl, aes(x=correct, y=inference, color=interaction(X.Conn))) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Connectives in all Experiments")
ggplot(tbl, aes(x=correct, y=inference, color=interaction(Conn))) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Connectives in all Experiments")
View(input)
ggplot(tbl, aes(x=correct, y=inference, color=interaction(X.Conn.))) +
geom_point(alpha = 0.2, position = "jitter") +
geom_boxplot(alpha=0, color='black', notch=T) +
xlab("Connectives in all Experiments")
ggplot(tbl, aes(x=correct, y=inference, fill=correct)) +
facet_wrap(~ X.Conn.) +
theme(legend.position="none") +
geom_boxplot(notch=T) +
xlab("Entailment, not Entailment for each Connective")
